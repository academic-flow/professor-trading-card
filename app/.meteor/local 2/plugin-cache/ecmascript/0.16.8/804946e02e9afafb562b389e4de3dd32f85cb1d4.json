{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/phatca/Documents/GitHub/professor-trading-card/app/packages/montiapm:agent/lib/client/kadira.js","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser"},"sourceFileName":"packages/montiapm:agent/lib/client/kadira.js","filename":"/Users/phatca/Documents/GitHub/professor-trading-card/app/packages/montiapm:agent/lib/client/kadira.js","targets":{},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/phatca/Documents/GitHub/professor-trading-card/app","root":"/Users/phatca/Documents/GitHub/professor-trading-card/app","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":false,"enforceStrictMode":false,"dynamicImport":true,"generateLetDeclarations":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/phatca/Documents/GitHub/professor-trading-card/app/packages/montiapm:agent/lib/client/kadira.js","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"packages/montiapm:agent/lib/client/kadira.js"}},"code":"let _objectSpread;\nmodule.link(\"@babel/runtime/helpers/objectSpread2\", {\n  default(v) {\n    _objectSpread = v;\n  }\n}, 0);\nlet Meteor;\nmodule.link(\"meteor/meteor\", {\n  Meteor(v) {\n    Meteor = v;\n  }\n}, 0);\nlet getErrorParameters;\nmodule.link(\"../common/utils\", {\n  getErrorParameters(v) {\n    getErrorParameters = v;\n  }\n}, 1);\nlet ErrorModel;\nmodule.link(\"./models/errors\", {\n  ErrorModel(v) {\n    ErrorModel = v;\n  }\n}, 2);\nlet Ntp;\nmodule.link(\"../ntp\", {\n  Ntp(v) {\n    Ntp = v;\n  }\n}, 3);\nlet getBrowserInfo;\nmodule.link(\"./utils\", {\n  getBrowserInfo(v) {\n    getBrowserInfo = v;\n  }\n}, 4);\nlet httpRequest;\nmodule.link(\"./httpRequest\", {\n  httpRequest(v) {\n    httpRequest = v;\n  }\n}, 5);\nKadira.enableErrorTracking = function () {\n  Kadira.options.enableErrorTracking = true;\n};\nKadira.disableErrorTracking = function () {\n  Kadira.options.enableErrorTracking = false;\n};\nKadira.trackError = function () {\n  if (!Kadira.options.enableErrorTracking) {\n    return;\n  }\n  if (Kadira.options.disableClientErrorTracking) {\n    return;\n  }\n  const {\n    message,\n    subType,\n    stack\n  } = getErrorParameters(arguments);\n  if (message) {\n    let now = new Date().getTime();\n    Kadira.errors.sendError({\n      appId: Kadira.options.appId,\n      name: message,\n      startTime: now,\n      type: 'client',\n      subType: subType || 'Monti.trackError',\n      info: getBrowserInfo(),\n      stacks: JSON.stringify([{\n        at: now,\n        events: [],\n        stack\n      }])\n    });\n  }\n};\n\n// Create new NTP object and error model immediately so it can be used\n// endpoints is set later using __meteor_runtime_config__ or publication\nKadira.syncedDate = new Ntp(null);\nKadira.errors = new ErrorModel({\n  waitForNtpSyncInterval: 1000 * 5,\n  // 5 secs\n  intervalInMillis: 1000 * 60 * 1,\n  // 1minutes\n  maxErrorsPerInterval: 5\n});\nlet initialized = false;\nfunction initialize() {\n  let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  if (initialized) {\n    return;\n  }\n  initialized = true;\n  Kadira.options = _objectSpread({\n    errorDumpInterval: 1000 * 60,\n    maxErrorsPerInterval: 10,\n    collectAllStacks: false,\n    enableErrorTracking: false\n  }, options);\n  if (Kadira.options.appId && Kadira.options.endpoint) {\n    // update endpoint after receiving correct data\n    Kadira.syncedDate.setEndpoint(Kadira.options.endpoint);\n    Kadira.syncedDate.isDisabled = Kadira.options.disableNtp;\n    Kadira.connected = true;\n    Meteor.startup(function () {\n      // if we don't do this might block the initial rendering\n      // or, it will show up bottom of the page, which is not cool\n      setTimeout(function () {\n        Kadira.syncedDate.sync();\n      }, Kadira.options.clientEngineSyncDelay);\n    });\n  }\n  if (Kadira.connected && Kadira.options.enableErrorTracking) {\n    Kadira.enableErrorTracking();\n  }\n  if (window.Zone && Zone.inited) {\n    Zone.collectAllStacks = Kadira.options.collectAllStacks;\n  }\n}\n\n// __meteor_runtime_config__ cannot be dynamically set for cordova apps\n// using a null subscription to send required options to client\nif (Meteor.isCordova) {\n  const SettingsCollection = new Meteor.Collection('kadira_settings');\n  SettingsCollection.find().observe({\n    added: initialize\n  });\n} else {\n  initialize(__meteor_runtime_config__.kadira);\n}\nKadira._makeHttpRequest = httpRequest;","map":{"version":3,"names":["_objectSpread","module","link","default","v","Meteor","getErrorParameters","ErrorModel","Ntp","getBrowserInfo","httpRequest","Kadira","enableErrorTracking","options","disableErrorTracking","trackError","disableClientErrorTracking","message","subType","stack","arguments","now","Date","getTime","errors","sendError","appId","name","startTime","type","info","stacks","JSON","stringify","at","events","syncedDate","waitForNtpSyncInterval","intervalInMillis","maxErrorsPerInterval","initialized","initialize","length","undefined","errorDumpInterval","collectAllStacks","endpoint","setEndpoint","isDisabled","disableNtp","connected","startup","setTimeout","sync","clientEngineSyncDelay","window","Zone","inited","isCordova","SettingsCollection","Collection","find","observe","added","__meteor_runtime_config__","kadira","_makeHttpRequest"],"sources":["packages/montiapm:agent/lib/client/kadira.js"],"sourcesContent":["/* global Zone */\n\nimport { Meteor } from 'meteor/meteor';\nimport { getErrorParameters } from '../common/utils';\nimport { ErrorModel } from './models/errors';\nimport { Ntp } from '../ntp';\nimport { getBrowserInfo } from './utils';\nimport { httpRequest } from './httpRequest';\n\nKadira.enableErrorTracking = function () {\n  Kadira.options.enableErrorTracking = true;\n};\n\nKadira.disableErrorTracking = function () {\n  Kadira.options.enableErrorTracking = false;\n};\n\nKadira.trackError = function () {\n  if (!Kadira.options.enableErrorTracking) {\n    return;\n  }\n\n  if (Kadira.options.disableClientErrorTracking) {\n    return;\n  }\n\n  const { message, subType, stack } = getErrorParameters(arguments);\n\n  if (message) {\n    let now = new Date().getTime();\n\n    Kadira.errors.sendError({\n      appId: Kadira.options.appId,\n      name: message,\n      startTime: now,\n      type: 'client',\n      subType: subType || 'Monti.trackError',\n      info: getBrowserInfo(),\n      stacks: JSON.stringify([{ at: now, events: [], stack }]),\n    });\n  }\n};\n\n// Create new NTP object and error model immediately so it can be used\n// endpoints is set later using __meteor_runtime_config__ or publication\nKadira.syncedDate = new Ntp(null);\nKadira.errors = new ErrorModel({\n  waitForNtpSyncInterval: 1000 * 5, // 5 secs\n  intervalInMillis: 1000 * 60 * 1, // 1minutes\n  maxErrorsPerInterval: 5\n});\n\nlet initialized = false;\nfunction initialize (options = {}) {\n  if (initialized) {\n    return;\n  }\n  initialized = true;\n\n  Kadira.options = {\n    errorDumpInterval: 1000 * 60,\n    maxErrorsPerInterval: 10,\n    collectAllStacks: false,\n    enableErrorTracking: false,\n    ...options,\n  };\n\n  if (Kadira.options.appId && Kadira.options.endpoint) {\n    // update endpoint after receiving correct data\n    Kadira.syncedDate.setEndpoint(Kadira.options.endpoint);\n    Kadira.syncedDate.isDisabled = Kadira.options.disableNtp;\n\n    Kadira.connected = true;\n    Meteor.startup(function () {\n      // if we don't do this might block the initial rendering\n      // or, it will show up bottom of the page, which is not cool\n      setTimeout(function () {\n        Kadira.syncedDate.sync();\n      }, Kadira.options.clientEngineSyncDelay);\n    });\n  }\n\n  if (Kadira.connected && Kadira.options.enableErrorTracking) {\n    Kadira.enableErrorTracking();\n  }\n\n  if (window.Zone && Zone.inited) {\n    Zone.collectAllStacks = Kadira.options.collectAllStacks;\n  }\n}\n\n// __meteor_runtime_config__ cannot be dynamically set for cordova apps\n// using a null subscription to send required options to client\nif (Meteor.isCordova) {\n  const SettingsCollection = new Meteor.Collection('kadira_settings');\n  SettingsCollection.find().observe({ added: initialize });\n} else {\n  initialize(__meteor_runtime_config__.kadira);\n}\n\nKadira._makeHttpRequest = httpRequest;\n"],"mappings":"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"},"sourceType":"module","externalDependencies":{},"hash":"804946e02e9afafb562b389e4de3dd32f85cb1d4"}
