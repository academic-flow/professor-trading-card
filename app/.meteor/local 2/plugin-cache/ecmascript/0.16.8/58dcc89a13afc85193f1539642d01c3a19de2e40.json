{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/phatca/Documents/GitHub/professor-trading-card/app/imports/ui/pages/SignIn.jsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser"},"sourceFileName":"imports/ui/pages/SignIn.jsx","filename":"/Users/phatca/Documents/GitHub/professor-trading-card/app/imports/ui/pages/SignIn.jsx","inputSourceMap":{"version":3,"names":["React","useState","Link","Navigate","Meteor","Alert","Card","Col","Container","Row","SimpleSchema","SimpleSchema2Bridge","AutoForm","ErrorsField","SubmitField","TextField","SignIn","_s","error","setError","redirect","setRedirect","schema","email","String","password","bridge","submit","doc","loginWithPassword","err","reason","data","_c","$RefreshReg$"],"sources":["imports/ui/pages/SignIn.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Link, Navigate } from 'react-router-dom';\nimport { Meteor } from 'meteor/meteor';\nimport { Alert, Card, Col, Container, Row } from 'react-bootstrap';\nimport SimpleSchema from 'simpl-schema';\nimport SimpleSchema2Bridge from 'uniforms-bridge-simple-schema-2';\nimport { AutoForm, ErrorsField, SubmitField, TextField } from 'uniforms-bootstrap5';\n\n/**\n * Signin page overrides the form’s submit event and call Meteor’s loginWithPassword().\n * Authentication errors modify the component’s state to be displayed\n */\nconst SignIn = () => {\n  const [error, setError] = useState('');\n  const [redirect, setRedirect] = useState(false);\n  const schema = new SimpleSchema({\n    email: String,\n    password: String,\n  });\n  const bridge = new SimpleSchema2Bridge(schema);\n\n  // Handle Signin submission using Meteor's account mechanism.\n  const submit = (doc) => {\n    // console.log('submit', doc, redirect);\n    const { email, password } = doc;\n    Meteor.loginWithPassword(email, password, (err) => {\n      if (err) {\n        setError(err.reason);\n      } else {\n        setRedirect(true);\n      }\n    });\n    // console.log('submit2', email, password, error, redirect);\n  };\n\n  // Render the signin form.\n  // console.log('render', error, redirect);\n  // if correct authentication, redirect to page instead of login screen\n  if (redirect) {\n    return (<Navigate to=\"/\" />);\n  }\n  // Otherwise return the Login form.\n  return (\n    <Container id=\"signin-page\" className=\"py-3\">\n      <Row className=\"justify-content-center\">\n        <Col xs={5}>\n          <Col className=\"text-center\">\n            <h2>Login to your account</h2>\n          </Col>\n          <AutoForm schema={bridge} onSubmit={data => submit(data)}>\n            <Card>\n              <Card.Body>\n                <TextField id=\"signin-form-email\" name=\"email\" placeholder=\"E-mail address\" />\n                <TextField id=\"signin-form-password\" name=\"password\" placeholder=\"Password\" type=\"password\" />\n                <ErrorsField />\n                <SubmitField id=\"signin-form-submit\" />\n              </Card.Body>\n            </Card>\n          </AutoForm>\n          <Alert variant=\"light\">\n            <Link to=\"/signup\">Click here to Register</Link>\n          </Alert>\n          {error === '' ? (\n            ''\n          ) : (\n            <Alert variant=\"danger\">\n              <Alert.Heading>Login was not successful</Alert.Heading>\n              {error}\n            </Alert>\n          )}\n        </Col>\n      </Row>\n    </Container>\n  );\n};\n\nexport default SignIn;\n"],"mappings":"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"},"targets":{},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/phatca/Documents/GitHub/professor-trading-card/app","root":"/Users/phatca/Documents/GitHub/professor-trading-card/app","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":false,"enforceStrictMode":false,"dynamicImport":true,"generateLetDeclarations":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/phatca/Documents/GitHub/professor-trading-card/app/imports/ui/pages/SignIn.jsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"imports/ui/pages/SignIn.jsx","inputSourceMap":{"version":3,"names":["React","useState","Link","Navigate","Meteor","Alert","Card","Col","Container","Row","SimpleSchema","SimpleSchema2Bridge","AutoForm","ErrorsField","SubmitField","TextField","SignIn","_s","error","setError","redirect","setRedirect","schema","email","String","password","bridge","submit","doc","loginWithPassword","err","reason","data","_c","$RefreshReg$"],"sources":["imports/ui/pages/SignIn.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Link, Navigate } from 'react-router-dom';\nimport { Meteor } from 'meteor/meteor';\nimport { Alert, Card, Col, Container, Row } from 'react-bootstrap';\nimport SimpleSchema from 'simpl-schema';\nimport SimpleSchema2Bridge from 'uniforms-bridge-simple-schema-2';\nimport { AutoForm, ErrorsField, SubmitField, TextField } from 'uniforms-bootstrap5';\n\n/**\n * Signin page overrides the form’s submit event and call Meteor’s loginWithPassword().\n * Authentication errors modify the component’s state to be displayed\n */\nconst SignIn = () => {\n  const [error, setError] = useState('');\n  const [redirect, setRedirect] = useState(false);\n  const schema = new SimpleSchema({\n    email: String,\n    password: String,\n  });\n  const bridge = new SimpleSchema2Bridge(schema);\n\n  // Handle Signin submission using Meteor's account mechanism.\n  const submit = (doc) => {\n    // console.log('submit', doc, redirect);\n    const { email, password } = doc;\n    Meteor.loginWithPassword(email, password, (err) => {\n      if (err) {\n        setError(err.reason);\n      } else {\n        setRedirect(true);\n      }\n    });\n    // console.log('submit2', email, password, error, redirect);\n  };\n\n  // Render the signin form.\n  // console.log('render', error, redirect);\n  // if correct authentication, redirect to page instead of login screen\n  if (redirect) {\n    return (<Navigate to=\"/\" />);\n  }\n  // Otherwise return the Login form.\n  return (\n    <Container id=\"signin-page\" className=\"py-3\">\n      <Row className=\"justify-content-center\">\n        <Col xs={5}>\n          <Col className=\"text-center\">\n            <h2>Login to your account</h2>\n          </Col>\n          <AutoForm schema={bridge} onSubmit={data => submit(data)}>\n            <Card>\n              <Card.Body>\n                <TextField id=\"signin-form-email\" name=\"email\" placeholder=\"E-mail address\" />\n                <TextField id=\"signin-form-password\" name=\"password\" placeholder=\"Password\" type=\"password\" />\n                <ErrorsField />\n                <SubmitField id=\"signin-form-submit\" />\n              </Card.Body>\n            </Card>\n          </AutoForm>\n          <Alert variant=\"light\">\n            <Link to=\"/signup\">Click here to Register</Link>\n          </Alert>\n          {error === '' ? (\n            ''\n          ) : (\n            <Alert variant=\"danger\">\n              <Alert.Heading>Login was not successful</Alert.Heading>\n              {error}\n            </Alert>\n          )}\n        </Col>\n      </Row>\n    </Container>\n  );\n};\n\nexport default SignIn;\n"],"mappings":"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"}}},"code":"!function (module1) {\n  let React, useState;\n  module1.link(\"react\", {\n    default(v) {\n      React = v;\n    },\n    useState(v) {\n      useState = v;\n    }\n  }, 0);\n  let Link, Navigate;\n  module1.link(\"react-router-dom\", {\n    Link(v) {\n      Link = v;\n    },\n    Navigate(v) {\n      Navigate = v;\n    }\n  }, 1);\n  let Meteor;\n  module1.link(\"meteor/meteor\", {\n    Meteor(v) {\n      Meteor = v;\n    }\n  }, 2);\n  let Alert, Card, Col, Container, Row;\n  module1.link(\"react-bootstrap\", {\n    Alert(v) {\n      Alert = v;\n    },\n    Card(v) {\n      Card = v;\n    },\n    Col(v) {\n      Col = v;\n    },\n    Container(v) {\n      Container = v;\n    },\n    Row(v) {\n      Row = v;\n    }\n  }, 3);\n  let SimpleSchema;\n  module1.link(\"simpl-schema\", {\n    default(v) {\n      SimpleSchema = v;\n    }\n  }, 4);\n  let SimpleSchema2Bridge;\n  module1.link(\"uniforms-bridge-simple-schema-2\", {\n    default(v) {\n      SimpleSchema2Bridge = v;\n    }\n  }, 5);\n  let AutoForm, ErrorsField, SubmitField, TextField;\n  module1.link(\"uniforms-bootstrap5\", {\n    AutoForm(v) {\n      AutoForm = v;\n    },\n    ErrorsField(v) {\n      ErrorsField = v;\n    },\n    SubmitField(v) {\n      SubmitField = v;\n    },\n    TextField(v) {\n      TextField = v;\n    }\n  }, 6);\n  ___INIT_METEOR_FAST_REFRESH(module);\n  var _s = $RefreshSig$();\n  /**\n   * Signin page overrides the form’s submit event and call Meteor’s loginWithPassword().\n   * Authentication errors modify the component’s state to be displayed\n   */\n  const SignIn = () => {\n    _s();\n    const [error, setError] = useState('');\n    const [redirect, setRedirect] = useState(false);\n    const schema = new SimpleSchema({\n      email: String,\n      password: String\n    });\n    const bridge = new SimpleSchema2Bridge(schema);\n\n    // Handle Signin submission using Meteor's account mechanism.\n    const submit = doc => {\n      // console.log('submit', doc, redirect);\n      const {\n        email,\n        password\n      } = doc;\n      Meteor.loginWithPassword(email, password, err => {\n        if (err) {\n          setError(err.reason);\n        } else {\n          setRedirect(true);\n        }\n      });\n      // console.log('submit2', email, password, error, redirect);\n    };\n\n    // Render the signin form.\n    // console.log('render', error, redirect);\n    // if correct authentication, redirect to page instead of login screen\n    if (redirect) {\n      return /*#__PURE__*/React.createElement(Navigate, {\n        to: \"/\"\n      });\n    }\n    // Otherwise return the Login form.\n    return /*#__PURE__*/React.createElement(Container, {\n      id: \"signin-page\",\n      className: \"py-3\"\n    }, /*#__PURE__*/React.createElement(Row, {\n      className: \"justify-content-center\"\n    }, /*#__PURE__*/React.createElement(Col, {\n      xs: 5\n    }, /*#__PURE__*/React.createElement(Col, {\n      className: \"text-center\"\n    }, /*#__PURE__*/React.createElement(\"h2\", null, \"Login to your account\")), /*#__PURE__*/React.createElement(AutoForm, {\n      schema: bridge,\n      onSubmit: data => submit(data)\n    }, /*#__PURE__*/React.createElement(Card, null, /*#__PURE__*/React.createElement(Card.Body, null, /*#__PURE__*/React.createElement(TextField, {\n      id: \"signin-form-email\",\n      name: \"email\",\n      placeholder: \"E-mail address\"\n    }), /*#__PURE__*/React.createElement(TextField, {\n      id: \"signin-form-password\",\n      name: \"password\",\n      placeholder: \"Password\",\n      type: \"password\"\n    }), /*#__PURE__*/React.createElement(ErrorsField, null), /*#__PURE__*/React.createElement(SubmitField, {\n      id: \"signin-form-submit\"\n    })))), /*#__PURE__*/React.createElement(Alert, {\n      variant: \"light\"\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/signup\"\n    }, \"Click here to Register\")), error === '' ? '' : /*#__PURE__*/React.createElement(Alert, {\n      variant: \"danger\"\n    }, /*#__PURE__*/React.createElement(Alert.Heading, null, \"Login was not successful\"), error))));\n  };\n  _s(SignIn, \"2Iyp3CbhTQZpE3rcbiGnlh8yh+g=\");\n  _c = SignIn;\n  module1.exportDefault(SignIn);\n  var _c;\n  $RefreshReg$(_c, \"SignIn\");\n}.call(this, module);","map":{"version":3,"names":["SignIn","_s","error","setError","useState","redirect","setRedirect","schema","SimpleSchema","email","String","password","bridge","SimpleSchema2Bridge","submit","doc","Meteor","loginWithPassword","err","reason","React","createElement","Navigate","to","Container","id","className","Row","Col","xs","AutoForm","onSubmit","data","Card","Body","TextField","name","placeholder","type","ErrorsField","SubmitField","Alert","variant","Link","Heading","_c","$RefreshReg$","call","module"],"sources":["imports/ui/pages/SignIn.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Link, Navigate } from 'react-router-dom';\nimport { Meteor } from 'meteor/meteor';\nimport { Alert, Card, Col, Container, Row } from 'react-bootstrap';\nimport SimpleSchema from 'simpl-schema';\nimport SimpleSchema2Bridge from 'uniforms-bridge-simple-schema-2';\nimport { AutoForm, ErrorsField, SubmitField, TextField } from 'uniforms-bootstrap5';\n\n/**\n * Signin page overrides the form’s submit event and call Meteor’s loginWithPassword().\n * Authentication errors modify the component’s state to be displayed\n */\nconst SignIn = () => {\n  const [error, setError] = useState('');\n  const [redirect, setRedirect] = useState(false);\n  const schema = new SimpleSchema({\n    email: String,\n    password: String,\n  });\n  const bridge = new SimpleSchema2Bridge(schema);\n\n  // Handle Signin submission using Meteor's account mechanism.\n  const submit = (doc) => {\n    // console.log('submit', doc, redirect);\n    const { email, password } = doc;\n    Meteor.loginWithPassword(email, password, (err) => {\n      if (err) {\n        setError(err.reason);\n      } else {\n        setRedirect(true);\n      }\n    });\n    // console.log('submit2', email, password, error, redirect);\n  };\n\n  // Render the signin form.\n  // console.log('render', error, redirect);\n  // if correct authentication, redirect to page instead of login screen\n  if (redirect) {\n    return (<Navigate to=\"/\" />);\n  }\n  // Otherwise return the Login form.\n  return (\n    <Container id=\"signin-page\" className=\"py-3\">\n      <Row className=\"justify-content-center\">\n        <Col xs={5}>\n          <Col className=\"text-center\">\n            <h2>Login to your account</h2>\n          </Col>\n          <AutoForm schema={bridge} onSubmit={data => submit(data)}>\n            <Card>\n              <Card.Body>\n                <TextField id=\"signin-form-email\" name=\"email\" placeholder=\"E-mail address\" />\n                <TextField id=\"signin-form-password\" name=\"password\" placeholder=\"Password\" type=\"password\" />\n                <ErrorsField />\n                <SubmitField id=\"signin-form-submit\" />\n              </Card.Body>\n            </Card>\n          </AutoForm>\n          <Alert variant=\"light\">\n            <Link to=\"/signup\">Click here to Register</Link>\n          </Alert>\n          {error === '' ? (\n            ''\n          ) : (\n            <Alert variant=\"danger\">\n              <Alert.Heading>Login was not successful</Alert.Heading>\n              {error}\n            </Alert>\n          )}\n        </Col>\n      </Row>\n    </Container>\n  );\n};\n\nexport default SignIn;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAQA;AACA;AACA;AACA;EACA,MAAMA,MAAM,GAAGA,CAAA,KAAM;IAAAC,EAAA;IACnB,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGC,QAAQ,CAAC,EAAE,CAAC;IACtC,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGF,QAAQ,CAAC,KAAK,CAAC;IAC/C,MAAMG,MAAM,GAAG,IAAIC,YAAY,CAAC;MAC9BC,KAAK,EAAEC,MAAM;MACbC,QAAQ,EAAED;IACZ,CAAC,CAAC;IACF,MAAME,MAAM,GAAG,IAAIC,mBAAmB,CAACN,MAAM,CAAC;;IAE9C;IACA,MAAMO,MAAM,GAAIC,GAAG,IAAK;MACtB;MACA,MAAM;QAAEN,KAAK;QAAEE;MAAS,CAAC,GAAGI,GAAG;MAC/BC,MAAM,CAACC,iBAAiB,CAACR,KAAK,EAAEE,QAAQ,EAAGO,GAAG,IAAK;QACjD,IAAIA,GAAG,EAAE;UACPf,QAAQ,CAACe,GAAG,CAACC,MAAM,CAAC;QACtB,CAAC,MAAM;UACLb,WAAW,CAAC,IAAI,CAAC;QACnB;MACF,CAAC,CAAC;MACF;IACF,CAAC;;IAED;IACA;IACA;IACA,IAAID,QAAQ,EAAE;MACZ,oBAAQe,KAAA,CAAAC,aAAA,CAACC,QAAQ;QAACC,EAAE,EAAC;MAAG,EAAG;IAC7B;IACA;IACA,oBACEH,KAAA,CAAAC,aAAA,CAACG,SAAS;MAACC,EAAE,EAAC,aAAa;MAACC,SAAS,EAAC;IAAM,gBAC1CN,KAAA,CAAAC,aAAA,CAACM,GAAG;MAACD,SAAS,EAAC;IAAwB,gBACrCN,KAAA,CAAAC,aAAA,CAACO,GAAG;MAACC,EAAE,EAAE;IAAE,gBACTT,KAAA,CAAAC,aAAA,CAACO,GAAG;MAACF,SAAS,EAAC;IAAa,gBAC1BN,KAAA,CAAAC,aAAA,aAAI,uBAAyB,CAC1B,gBACLD,KAAA,CAAAC,aAAA,CAACS,QAAQ;MAACvB,MAAM,EAAEK,MAAO;MAACmB,QAAQ,EAAEC,IAAI,IAAIlB,MAAM,CAACkB,IAAI;IAAE,gBACvDZ,KAAA,CAAAC,aAAA,CAACY,IAAI,qBACHb,KAAA,CAAAC,aAAA,CAACY,IAAI,CAACC,IAAI,qBACRd,KAAA,CAAAC,aAAA,CAACc,SAAS;MAACV,EAAE,EAAC,mBAAmB;MAACW,IAAI,EAAC,OAAO;MAACC,WAAW,EAAC;IAAgB,iBAC3EjB,KAAA,CAAAC,aAAA,CAACc,SAAS;MAACV,EAAE,EAAC,sBAAsB;MAACW,IAAI,EAAC,UAAU;MAACC,WAAW,EAAC,UAAU;MAACC,IAAI,EAAC;IAAU,iBAC3FlB,KAAA,CAAAC,aAAA,CAACkB,WAAW,sBACZnB,KAAA,CAAAC,aAAA,CAACmB,WAAW;MAACf,EAAE,EAAC;IAAoB,EAC3B,CACP,CACE,gBACVL,KAAA,CAAAC,aAAA,CAACoB,KAAK;MAACC,OAAO,EAAC;IAAO,gBACpBtB,KAAA,CAAAC,aAAA,CAACsB,IAAI;MAACpB,EAAE,EAAC;IAAS,GAAC,wBAA4B,CAC1C,GACNrB,KAAK,KAAK,EAAE,GACX,EAAE,gBAEFkB,KAAA,CAAAC,aAAA,CAACoB,KAAK;MAACC,OAAO,EAAC;IAAQ,gBACrBtB,KAAA,CAAAC,aAAA,CAACoB,KAAK,CAACG,OAAO,QAAC,0BAAuC,GACrD1C,KACI,CAEN,CACF,CACI,CAAC;EAEhB,CAAC;EAACD,EAAA,CA9DID,MAAM;EAAA6C,EAAA,GAAN7C,MAAM;wBAgEGA,M;EAAO,IAAA6C,EAAA;EAAAC,YAAA,CAAAD,EAAA;AAAA,EAAAE,IAAA,OAAAC,MAAA"},"sourceType":"module","externalDependencies":{},"hash":"58dcc89a13afc85193f1539642d01c3a19de2e40"}
