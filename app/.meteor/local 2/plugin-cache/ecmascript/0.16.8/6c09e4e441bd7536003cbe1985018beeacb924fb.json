{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/phatca/Documents/GitHub/professor-trading-card/app/imports/ui/layouts/App.jsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser"},"sourceFileName":"imports/ui/layouts/App.jsx","filename":"/Users/phatca/Documents/GitHub/professor-trading-card/app/imports/ui/layouts/App.jsx","inputSourceMap":{"version":3,"names":["React","PropTypes","Meteor","useTracker","Roles","BrowserRouter","Router","Route","Routes","Navigate","Footer","Landing","ListCard","ListStuffAdmin","AddStuff","EditStuff","NotFound","SignUp","SignOut","NavBar","SignIn","NotAuthorized","LoadingSpinner","MainPage","ListFriends","App","_s","ready","rdy","subscription","_c","ProtectedRoute","children","isLogged","userId","_c2","AdminProtectedRoute","isAdmin","userIsInRole","_c3","propTypes","oneOfType","object","func","defaultProps","bool","$RefreshReg$"],"sources":["imports/ui/layouts/App.jsx"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Meteor } from 'meteor/meteor';\nimport { useTracker } from 'meteor/react-meteor-data';\nimport { Roles } from 'meteor/alanning:roles';\nimport { BrowserRouter as Router, Route, Routes, Navigate } from 'react-router-dom';\nimport Footer from '../components/Footer';\nimport Landing from '../pages/Landing';\nimport ListCard from '../pages/ListCard';\nimport ListStuffAdmin from '../pages/ListStuffAdmin';\nimport AddStuff from '../pages/AddStuff';\nimport EditStuff from '../pages/EditStuff';\nimport NotFound from '../pages/NotFound';\nimport SignUp from '../pages/SignUp';\nimport SignOut from '../pages/SignOut';\nimport NavBar from '../components/NavBar';\nimport SignIn from '../pages/SignIn';\nimport NotAuthorized from '../pages/NotAuthorized';\nimport LoadingSpinner from '../components/LoadingSpinner';\nimport MainPage from '../pages/MainPage';\nimport ListFriends from '../pages/ListFriends';\n\n/** Top-level layout component for this application. Called in imports/startup/client/startup.jsx. */\nconst App = () => {\n  const { ready } = useTracker(() => {\n    const rdy = Roles.subscription.ready();\n    return {\n      ready: rdy,\n    };\n  });\n  return (\n    <Router>\n      <div className=\"d-flex flex-column min-vh-100\">\n\n        <NavBar />\n\n        <Footer />\n      </div>\n    </Router>\n  );\n};\n\n/*\n * ProtectedRoute (see React Router v6 sample)\n * Checks for Meteor login before routing to the requested page, otherwise goes to signin page.\n * @param {any} { component: Component, ...rest }\n */\nconst ProtectedRoute = ({ children }) => {\n  const isLogged = Meteor.userId() !== null;\n  return isLogged ? children : <Navigate to=\"/signin\" />;\n};\n\n/**\n * AdminProtectedRoute (see React Router v6 sample)\n * Checks for Meteor login and admin role before routing to the requested page, otherwise goes to signin page.\n * @param {any} { component: Component, ...rest }\n */\nconst AdminProtectedRoute = ({ ready, children }) => {\n  const isLogged = Meteor.userId() !== null;\n  if (!isLogged) {\n    return <Navigate to=\"/signin\" />;\n  }\n  if (!ready) {\n    return <LoadingSpinner />;\n  }\n  const isAdmin = Roles.userIsInRole(Meteor.userId(), 'admin');\n  return (isLogged && isAdmin) ? children : <Navigate to=\"/notauthorized\" />;\n};\n\n// Require a component and location to be passed to each ProtectedRoute.\nProtectedRoute.propTypes = {\n  children: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n};\n\nProtectedRoute.defaultProps = {\n  children: <Landing />,\n};\n\n// Require a component and location to be passed to each AdminProtectedRoute.\nAdminProtectedRoute.propTypes = {\n  ready: PropTypes.bool,\n  children: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n};\n\nAdminProtectedRoute.defaultProps = {\n  ready: false,\n  children: <Landing />,\n};\n\nexport default App;\n"],"mappings":"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"},"targets":{},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/phatca/Documents/GitHub/professor-trading-card/app","root":"/Users/phatca/Documents/GitHub/professor-trading-card/app","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":false,"enforceStrictMode":false,"dynamicImport":true,"generateLetDeclarations":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/phatca/Documents/GitHub/professor-trading-card/app/imports/ui/layouts/App.jsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"imports/ui/layouts/App.jsx","inputSourceMap":{"version":3,"names":["React","PropTypes","Meteor","useTracker","Roles","BrowserRouter","Router","Route","Routes","Navigate","Footer","Landing","ListCard","ListStuffAdmin","AddStuff","EditStuff","NotFound","SignUp","SignOut","NavBar","SignIn","NotAuthorized","LoadingSpinner","MainPage","ListFriends","App","_s","ready","rdy","subscription","_c","ProtectedRoute","children","isLogged","userId","_c2","AdminProtectedRoute","isAdmin","userIsInRole","_c3","propTypes","oneOfType","object","func","defaultProps","bool","$RefreshReg$"],"sources":["imports/ui/layouts/App.jsx"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Meteor } from 'meteor/meteor';\nimport { useTracker } from 'meteor/react-meteor-data';\nimport { Roles } from 'meteor/alanning:roles';\nimport { BrowserRouter as Router, Route, Routes, Navigate } from 'react-router-dom';\nimport Footer from '../components/Footer';\nimport Landing from '../pages/Landing';\nimport ListCard from '../pages/ListCard';\nimport ListStuffAdmin from '../pages/ListStuffAdmin';\nimport AddStuff from '../pages/AddStuff';\nimport EditStuff from '../pages/EditStuff';\nimport NotFound from '../pages/NotFound';\nimport SignUp from '../pages/SignUp';\nimport SignOut from '../pages/SignOut';\nimport NavBar from '../components/NavBar';\nimport SignIn from '../pages/SignIn';\nimport NotAuthorized from '../pages/NotAuthorized';\nimport LoadingSpinner from '../components/LoadingSpinner';\nimport MainPage from '../pages/MainPage';\nimport ListFriends from '../pages/ListFriends';\n\n/** Top-level layout component for this application. Called in imports/startup/client/startup.jsx. */\nconst App = () => {\n  const { ready } = useTracker(() => {\n    const rdy = Roles.subscription.ready();\n    return {\n      ready: rdy,\n    };\n  });\n  return (\n    <Router>\n      <div className=\"d-flex flex-column min-vh-100\">\n\n        <NavBar />\n\n        <Footer />\n      </div>\n    </Router>\n  );\n};\n\n/*\n * ProtectedRoute (see React Router v6 sample)\n * Checks for Meteor login before routing to the requested page, otherwise goes to signin page.\n * @param {any} { component: Component, ...rest }\n */\nconst ProtectedRoute = ({ children }) => {\n  const isLogged = Meteor.userId() !== null;\n  return isLogged ? children : <Navigate to=\"/signin\" />;\n};\n\n/**\n * AdminProtectedRoute (see React Router v6 sample)\n * Checks for Meteor login and admin role before routing to the requested page, otherwise goes to signin page.\n * @param {any} { component: Component, ...rest }\n */\nconst AdminProtectedRoute = ({ ready, children }) => {\n  const isLogged = Meteor.userId() !== null;\n  if (!isLogged) {\n    return <Navigate to=\"/signin\" />;\n  }\n  if (!ready) {\n    return <LoadingSpinner />;\n  }\n  const isAdmin = Roles.userIsInRole(Meteor.userId(), 'admin');\n  return (isLogged && isAdmin) ? children : <Navigate to=\"/notauthorized\" />;\n};\n\n// Require a component and location to be passed to each ProtectedRoute.\nProtectedRoute.propTypes = {\n  children: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n};\n\nProtectedRoute.defaultProps = {\n  children: <Landing />,\n};\n\n// Require a component and location to be passed to each AdminProtectedRoute.\nAdminProtectedRoute.propTypes = {\n  ready: PropTypes.bool,\n  children: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n};\n\nAdminProtectedRoute.defaultProps = {\n  ready: false,\n  children: <Landing />,\n};\n\nexport default App;\n"],"mappings":"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"}}},"code":"!function (module1) {\n  let React;\n  module1.link(\"react\", {\n    default(v) {\n      React = v;\n    }\n  }, 0);\n  let PropTypes;\n  module1.link(\"prop-types\", {\n    default(v) {\n      PropTypes = v;\n    }\n  }, 1);\n  let Meteor;\n  module1.link(\"meteor/meteor\", {\n    Meteor(v) {\n      Meteor = v;\n    }\n  }, 2);\n  let useTracker;\n  module1.link(\"meteor/react-meteor-data\", {\n    useTracker(v) {\n      useTracker = v;\n    }\n  }, 3);\n  let Roles;\n  module1.link(\"meteor/alanning:roles\", {\n    Roles(v) {\n      Roles = v;\n    }\n  }, 4);\n  let Router, Route, Routes, Navigate;\n  module1.link(\"react-router-dom\", {\n    BrowserRouter(v) {\n      Router = v;\n    },\n    Route(v) {\n      Route = v;\n    },\n    Routes(v) {\n      Routes = v;\n    },\n    Navigate(v) {\n      Navigate = v;\n    }\n  }, 5);\n  let Footer;\n  module1.link(\"../components/Footer\", {\n    default(v) {\n      Footer = v;\n    }\n  }, 6);\n  let Landing;\n  module1.link(\"../pages/Landing\", {\n    default(v) {\n      Landing = v;\n    }\n  }, 7);\n  let ListCard;\n  module1.link(\"../pages/ListCard\", {\n    default(v) {\n      ListCard = v;\n    }\n  }, 8);\n  let ListStuffAdmin;\n  module1.link(\"../pages/ListStuffAdmin\", {\n    default(v) {\n      ListStuffAdmin = v;\n    }\n  }, 9);\n  let AddStuff;\n  module1.link(\"../pages/AddStuff\", {\n    default(v) {\n      AddStuff = v;\n    }\n  }, 10);\n  let EditStuff;\n  module1.link(\"../pages/EditStuff\", {\n    default(v) {\n      EditStuff = v;\n    }\n  }, 11);\n  let NotFound;\n  module1.link(\"../pages/NotFound\", {\n    default(v) {\n      NotFound = v;\n    }\n  }, 12);\n  let SignUp;\n  module1.link(\"../pages/SignUp\", {\n    default(v) {\n      SignUp = v;\n    }\n  }, 13);\n  let SignOut;\n  module1.link(\"../pages/SignOut\", {\n    default(v) {\n      SignOut = v;\n    }\n  }, 14);\n  let NavBar;\n  module1.link(\"../components/NavBar\", {\n    default(v) {\n      NavBar = v;\n    }\n  }, 15);\n  let SignIn;\n  module1.link(\"../pages/SignIn\", {\n    default(v) {\n      SignIn = v;\n    }\n  }, 16);\n  let NotAuthorized;\n  module1.link(\"../pages/NotAuthorized\", {\n    default(v) {\n      NotAuthorized = v;\n    }\n  }, 17);\n  let LoadingSpinner;\n  module1.link(\"../components/LoadingSpinner\", {\n    default(v) {\n      LoadingSpinner = v;\n    }\n  }, 18);\n  let MainPage;\n  module1.link(\"../pages/MainPage\", {\n    default(v) {\n      MainPage = v;\n    }\n  }, 19);\n  let ListFriends;\n  module1.link(\"../pages/ListFriends\", {\n    default(v) {\n      ListFriends = v;\n    }\n  }, 20);\n  ___INIT_METEOR_FAST_REFRESH(module);\n  var _s = $RefreshSig$();\n  /** Top-level layout component for this application. Called in imports/startup/client/startup.jsx. */\n  const App = () => {\n    _s();\n    const {\n      ready\n    } = useTracker(() => {\n      const rdy = Roles.subscription.ready();\n      return {\n        ready: rdy\n      };\n    });\n    return /*#__PURE__*/React.createElement(Router, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex flex-column min-vh-100\"\n    }, /*#__PURE__*/React.createElement(NavBar, null), /*#__PURE__*/React.createElement(Footer, null)));\n  };\n\n  /*\n   * ProtectedRoute (see React Router v6 sample)\n   * Checks for Meteor login before routing to the requested page, otherwise goes to signin page.\n   * @param {any} { component: Component, ...rest }\n   */\n  _s(App, \"2USe0jF0q7MiJXLuSUTNmJyvHsI=\", false, function () {\n    return [useTracker];\n  });\n  _c = App;\n  const ProtectedRoute = _ref => {\n    let {\n      children\n    } = _ref;\n    const isLogged = Meteor.userId() !== null;\n    return isLogged ? children : /*#__PURE__*/React.createElement(Navigate, {\n      to: \"/signin\"\n    });\n  };\n\n  /**\n   * AdminProtectedRoute (see React Router v6 sample)\n   * Checks for Meteor login and admin role before routing to the requested page, otherwise goes to signin page.\n   * @param {any} { component: Component, ...rest }\n   */\n  _c2 = ProtectedRoute;\n  const AdminProtectedRoute = _ref2 => {\n    let {\n      ready,\n      children\n    } = _ref2;\n    const isLogged = Meteor.userId() !== null;\n    if (!isLogged) {\n      return /*#__PURE__*/React.createElement(Navigate, {\n        to: \"/signin\"\n      });\n    }\n    if (!ready) {\n      return /*#__PURE__*/React.createElement(LoadingSpinner, null);\n    }\n    const isAdmin = Roles.userIsInRole(Meteor.userId(), 'admin');\n    return isLogged && isAdmin ? children : /*#__PURE__*/React.createElement(Navigate, {\n      to: \"/notauthorized\"\n    });\n  };\n\n  // Require a component and location to be passed to each ProtectedRoute.\n  _c3 = AdminProtectedRoute;\n  ProtectedRoute.propTypes = {\n    children: PropTypes.oneOfType([PropTypes.object, PropTypes.func])\n  };\n  ProtectedRoute.defaultProps = {\n    children: /*#__PURE__*/React.createElement(Landing, null)\n  };\n\n  // Require a component and location to be passed to each AdminProtectedRoute.\n  AdminProtectedRoute.propTypes = {\n    ready: PropTypes.bool,\n    children: PropTypes.oneOfType([PropTypes.object, PropTypes.func])\n  };\n  AdminProtectedRoute.defaultProps = {\n    ready: false,\n    children: /*#__PURE__*/React.createElement(Landing, null)\n  };\n  module1.exportDefault(App);\n  var _c, _c2, _c3;\n  $RefreshReg$(_c, \"App\");\n  $RefreshReg$(_c2, \"ProtectedRoute\");\n  $RefreshReg$(_c3, \"AdminProtectedRoute\");\n}.call(this, module);","map":{"version":3,"names":["App","_s","ready","useTracker","rdy","Roles","subscription","React","createElement","Router","className","NavBar","Footer","_c","ProtectedRoute","_ref","children","isLogged","Meteor","userId","Navigate","to","_c2","AdminProtectedRoute","_ref2","LoadingSpinner","isAdmin","userIsInRole","_c3","propTypes","PropTypes","oneOfType","object","func","defaultProps","Landing","bool","$RefreshReg$","call","module"],"sources":["imports/ui/layouts/App.jsx"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Meteor } from 'meteor/meteor';\nimport { useTracker } from 'meteor/react-meteor-data';\nimport { Roles } from 'meteor/alanning:roles';\nimport { BrowserRouter as Router, Route, Routes, Navigate } from 'react-router-dom';\nimport Footer from '../components/Footer';\nimport Landing from '../pages/Landing';\nimport ListCard from '../pages/ListCard';\nimport ListStuffAdmin from '../pages/ListStuffAdmin';\nimport AddStuff from '../pages/AddStuff';\nimport EditStuff from '../pages/EditStuff';\nimport NotFound from '../pages/NotFound';\nimport SignUp from '../pages/SignUp';\nimport SignOut from '../pages/SignOut';\nimport NavBar from '../components/NavBar';\nimport SignIn from '../pages/SignIn';\nimport NotAuthorized from '../pages/NotAuthorized';\nimport LoadingSpinner from '../components/LoadingSpinner';\nimport MainPage from '../pages/MainPage';\nimport ListFriends from '../pages/ListFriends';\n\n/** Top-level layout component for this application. Called in imports/startup/client/startup.jsx. */\nconst App = () => {\n  const { ready } = useTracker(() => {\n    const rdy = Roles.subscription.ready();\n    return {\n      ready: rdy,\n    };\n  });\n  return (\n    <Router>\n      <div className=\"d-flex flex-column min-vh-100\">\n\n        <NavBar />\n\n        <Footer />\n      </div>\n    </Router>\n  );\n};\n\n/*\n * ProtectedRoute (see React Router v6 sample)\n * Checks for Meteor login before routing to the requested page, otherwise goes to signin page.\n * @param {any} { component: Component, ...rest }\n */\nconst ProtectedRoute = ({ children }) => {\n  const isLogged = Meteor.userId() !== null;\n  return isLogged ? children : <Navigate to=\"/signin\" />;\n};\n\n/**\n * AdminProtectedRoute (see React Router v6 sample)\n * Checks for Meteor login and admin role before routing to the requested page, otherwise goes to signin page.\n * @param {any} { component: Component, ...rest }\n */\nconst AdminProtectedRoute = ({ ready, children }) => {\n  const isLogged = Meteor.userId() !== null;\n  if (!isLogged) {\n    return <Navigate to=\"/signin\" />;\n  }\n  if (!ready) {\n    return <LoadingSpinner />;\n  }\n  const isAdmin = Roles.userIsInRole(Meteor.userId(), 'admin');\n  return (isLogged && isAdmin) ? children : <Navigate to=\"/notauthorized\" />;\n};\n\n// Require a component and location to be passed to each ProtectedRoute.\nProtectedRoute.propTypes = {\n  children: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n};\n\nProtectedRoute.defaultProps = {\n  children: <Landing />,\n};\n\n// Require a component and location to be passed to each AdminProtectedRoute.\nAdminProtectedRoute.propTypes = {\n  ready: PropTypes.bool,\n  children: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n};\n\nAdminProtectedRoute.defaultProps = {\n  ready: false,\n  children: <Landing />,\n};\n\nexport default App;\n"],"mappings":"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"},"sourceType":"module","externalDependencies":{},"hash":"6c09e4e441bd7536003cbe1985018beeacb924fb"}
