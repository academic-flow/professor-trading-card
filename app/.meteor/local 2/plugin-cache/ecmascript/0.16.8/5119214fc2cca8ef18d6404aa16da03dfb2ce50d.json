{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/phatca/Documents/GitHub/professor-trading-card/app/imports/ui/pages/ViewCollection.jsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser"},"sourceFileName":"imports/ui/pages/ViewCollection.jsx","filename":"/Users/phatca/Documents/GitHub/professor-trading-card/app/imports/ui/pages/ViewCollection.jsx","inputSourceMap":{"version":3,"names":["React","useState","useEffect","Container","Button","Modal","useParams","useTracker","Meteor","CardItem","LoadingSpinner","Cards","ViewCollection","_s","friendUserName","loading","setLoading","collection","setCollection","showModal","setShowModal","selectedCard","setSelectedCard","ready","myCards","currentUserName","subscription","subscribe","userPublicationName","myCardItems","find","fetch","currentUser","user","username","call","error","result","console","tradeFunction","myCardID","log","_id","handleTradeButtonClick","card","handleCloseModal","map","name","_c","$RefreshReg$"],"sources":["imports/ui/pages/ViewCollection.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Container, Button, Modal } from 'react-bootstrap';\nimport { useParams } from 'react-router';\nimport { useTracker } from 'meteor/react-meteor-data';\n\nimport { Meteor } from 'meteor/meteor';\nimport CardItem from '../components/CardItem';\nimport LoadingSpinner from '../components/LoadingSpinner';\nimport { Cards } from '../../api/card/Card';\n\nconst ViewCollection = () => {\n  const { friendUserName } = useParams();\n  const [loading, setLoading] = useState(true);\n  const [collection, setCollection] = useState([]);\n  const [showModal, setShowModal] = useState(false);\n  const [selectedCard, setSelectedCard] = useState(null);\n\n  const { ready, myCards, currentUserName } = useTracker(() => {\n    const subscription = Meteor.subscribe(Cards.userPublicationName);\n    const myCardItems = Cards.collection.find({}).fetch();\n    const currentUser = Meteor.user();\n    const username = currentUser ? currentUser.username : null;\n    return {\n      currentUserName: username,\n      myCards: myCardItems,\n      ready: subscription.ready(),\n\n    };\n  }, []);\n\n  useEffect(() => {\n    Meteor.call('gettingFriendCardCollection', friendUserName, (error, result) => {\n      if (error) {\n        console.error('Error:', error);\n      } else {\n        setCollection(result);\n        setLoading(false);\n      }\n    });\n  }, [friendUserName]);\n\n  const tradeFunction = (myCardID) => {\n    console.log(Meteor.call('tradeCard', myCardID, selectedCard._id, friendUserName, currentUserName));\n\n  };\n\n  const handleTradeButtonClick = (card) => {\n    setSelectedCard(card);\n    setShowModal(true);\n  };\n\n  const handleCloseModal = () => {\n    setSelectedCard(null);\n    setShowModal(false);\n    console.log(selectedCard);\n  };\n\n  return loading || !ready ? (\n    <LoadingSpinner />\n  ) : (\n    <Container className=\"py-3\">\n      <h3>{friendUserName} collection</h3>\n      <div>\n\n        {collection.map((card) => (\n          <>\n            <div className=\"pt-2\" key={card._id}>\n              <CardItem card={card} />\n            </div>\n            <Button onClick={() => handleTradeButtonClick(card)}>Trade</Button>\n          </>\n        ))}\n      </div>\n      <Modal show={showModal} onHide={handleCloseModal} size=\"lg\">\n        <Modal.Header closeButton>\n          <Modal.Title>Select a card to trade</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <div className=\"d-flex flex-column\">\n            {myCards.map((card) => (\n              <div className=\"d-flex justify-content-evenly\">\n                <CardItem card={card} key={card._id} />\n                <Button className=\"align-self-center\" onClick={() => tradeFunction(card._id)}>Select to trade with {selectedCard && selectedCard.name}</Button>\n              </div>\n\n            ))}\n          </div>\n        </Modal.Body>\n      </Modal>\n    </Container>\n  );\n};\n\nexport default ViewCollection;\n"],"mappings":"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"},"targets":{},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/phatca/Documents/GitHub/professor-trading-card/app","root":"/Users/phatca/Documents/GitHub/professor-trading-card/app","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":false,"enforceStrictMode":false,"dynamicImport":true,"generateLetDeclarations":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/phatca/Documents/GitHub/professor-trading-card/app/imports/ui/pages/ViewCollection.jsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"imports/ui/pages/ViewCollection.jsx","inputSourceMap":{"version":3,"names":["React","useState","useEffect","Container","Button","Modal","useParams","useTracker","Meteor","CardItem","LoadingSpinner","Cards","ViewCollection","_s","friendUserName","loading","setLoading","collection","setCollection","showModal","setShowModal","selectedCard","setSelectedCard","ready","myCards","currentUserName","subscription","subscribe","userPublicationName","myCardItems","find","fetch","currentUser","user","username","call","error","result","console","tradeFunction","myCardID","log","_id","handleTradeButtonClick","card","handleCloseModal","map","name","_c","$RefreshReg$"],"sources":["imports/ui/pages/ViewCollection.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Container, Button, Modal } from 'react-bootstrap';\nimport { useParams } from 'react-router';\nimport { useTracker } from 'meteor/react-meteor-data';\n\nimport { Meteor } from 'meteor/meteor';\nimport CardItem from '../components/CardItem';\nimport LoadingSpinner from '../components/LoadingSpinner';\nimport { Cards } from '../../api/card/Card';\n\nconst ViewCollection = () => {\n  const { friendUserName } = useParams();\n  const [loading, setLoading] = useState(true);\n  const [collection, setCollection] = useState([]);\n  const [showModal, setShowModal] = useState(false);\n  const [selectedCard, setSelectedCard] = useState(null);\n\n  const { ready, myCards, currentUserName } = useTracker(() => {\n    const subscription = Meteor.subscribe(Cards.userPublicationName);\n    const myCardItems = Cards.collection.find({}).fetch();\n    const currentUser = Meteor.user();\n    const username = currentUser ? currentUser.username : null;\n    return {\n      currentUserName: username,\n      myCards: myCardItems,\n      ready: subscription.ready(),\n\n    };\n  }, []);\n\n  useEffect(() => {\n    Meteor.call('gettingFriendCardCollection', friendUserName, (error, result) => {\n      if (error) {\n        console.error('Error:', error);\n      } else {\n        setCollection(result);\n        setLoading(false);\n      }\n    });\n  }, [friendUserName]);\n\n  const tradeFunction = (myCardID) => {\n    console.log(Meteor.call('tradeCard', myCardID, selectedCard._id, friendUserName, currentUserName));\n\n  };\n\n  const handleTradeButtonClick = (card) => {\n    setSelectedCard(card);\n    setShowModal(true);\n  };\n\n  const handleCloseModal = () => {\n    setSelectedCard(null);\n    setShowModal(false);\n    console.log(selectedCard);\n  };\n\n  return loading || !ready ? (\n    <LoadingSpinner />\n  ) : (\n    <Container className=\"py-3\">\n      <h3>{friendUserName} collection</h3>\n      <div>\n\n        {collection.map((card) => (\n          <>\n            <div className=\"pt-2\" key={card._id}>\n              <CardItem card={card} />\n            </div>\n            <Button onClick={() => handleTradeButtonClick(card)}>Trade</Button>\n          </>\n        ))}\n      </div>\n      <Modal show={showModal} onHide={handleCloseModal} size=\"lg\">\n        <Modal.Header closeButton>\n          <Modal.Title>Select a card to trade</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <div className=\"d-flex flex-column\">\n            {myCards.map((card) => (\n              <div className=\"d-flex justify-content-evenly\">\n                <CardItem card={card} key={card._id} />\n                <Button className=\"align-self-center\" onClick={() => tradeFunction(card._id)}>Select to trade with {selectedCard && selectedCard.name}</Button>\n              </div>\n\n            ))}\n          </div>\n        </Modal.Body>\n      </Modal>\n    </Container>\n  );\n};\n\nexport default ViewCollection;\n"],"mappings":"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"}}},"code":"!function (module1) {\n  let React, useState, useEffect;\n  module1.link(\"react\", {\n    default(v) {\n      React = v;\n    },\n    useState(v) {\n      useState = v;\n    },\n    useEffect(v) {\n      useEffect = v;\n    }\n  }, 0);\n  let Container, Button, Modal;\n  module1.link(\"react-bootstrap\", {\n    Container(v) {\n      Container = v;\n    },\n    Button(v) {\n      Button = v;\n    },\n    Modal(v) {\n      Modal = v;\n    }\n  }, 1);\n  let useParams;\n  module1.link(\"react-router\", {\n    useParams(v) {\n      useParams = v;\n    }\n  }, 2);\n  let useTracker;\n  module1.link(\"meteor/react-meteor-data\", {\n    useTracker(v) {\n      useTracker = v;\n    }\n  }, 3);\n  let Meteor;\n  module1.link(\"meteor/meteor\", {\n    Meteor(v) {\n      Meteor = v;\n    }\n  }, 4);\n  let CardItem;\n  module1.link(\"../components/CardItem\", {\n    default(v) {\n      CardItem = v;\n    }\n  }, 5);\n  let LoadingSpinner;\n  module1.link(\"../components/LoadingSpinner\", {\n    default(v) {\n      LoadingSpinner = v;\n    }\n  }, 6);\n  let Cards;\n  module1.link(\"../../api/card/Card\", {\n    Cards(v) {\n      Cards = v;\n    }\n  }, 7);\n  ___INIT_METEOR_FAST_REFRESH(module);\n  var _s = $RefreshSig$();\n  const ViewCollection = () => {\n    _s();\n    const {\n      friendUserName\n    } = useParams();\n    const [loading, setLoading] = useState(true);\n    const [collection, setCollection] = useState([]);\n    const [showModal, setShowModal] = useState(false);\n    const [selectedCard, setSelectedCard] = useState(null);\n    const {\n      ready,\n      myCards,\n      currentUserName\n    } = useTracker(() => {\n      const subscription = Meteor.subscribe(Cards.userPublicationName);\n      const myCardItems = Cards.collection.find({}).fetch();\n      const currentUser = Meteor.user();\n      const username = currentUser ? currentUser.username : null;\n      return {\n        currentUserName: username,\n        myCards: myCardItems,\n        ready: subscription.ready()\n      };\n    }, []);\n    useEffect(() => {\n      Meteor.call('gettingFriendCardCollection', friendUserName, (error, result) => {\n        if (error) {\n          console.error('Error:', error);\n        } else {\n          setCollection(result);\n          setLoading(false);\n        }\n      });\n    }, [friendUserName]);\n    const tradeFunction = myCardID => {\n      console.log(Meteor.call('tradeCard', myCardID, selectedCard._id, friendUserName, currentUserName));\n    };\n    const handleTradeButtonClick = card => {\n      setSelectedCard(card);\n      setShowModal(true);\n    };\n    const handleCloseModal = () => {\n      setSelectedCard(null);\n      setShowModal(false);\n      console.log(selectedCard);\n    };\n    return loading || !ready ? /*#__PURE__*/React.createElement(LoadingSpinner, null) : /*#__PURE__*/React.createElement(Container, {\n      className: \"py-3\"\n    }, /*#__PURE__*/React.createElement(\"h3\", null, friendUserName, \" collection\"), /*#__PURE__*/React.createElement(\"div\", null, collection.map(card => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pt-2\",\n      key: card._id\n    }, /*#__PURE__*/React.createElement(CardItem, {\n      card: card\n    })), /*#__PURE__*/React.createElement(Button, {\n      onClick: () => handleTradeButtonClick(card)\n    }, \"Trade\")))), /*#__PURE__*/React.createElement(Modal, {\n      show: showModal,\n      onHide: handleCloseModal,\n      size: \"lg\"\n    }, /*#__PURE__*/React.createElement(Modal.Header, {\n      closeButton: true\n    }, /*#__PURE__*/React.createElement(Modal.Title, null, \"Select a card to trade\")), /*#__PURE__*/React.createElement(Modal.Body, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex flex-column\"\n    }, myCards.map(card => /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-evenly\"\n    }, /*#__PURE__*/React.createElement(CardItem, {\n      card: card,\n      key: card._id\n    }), /*#__PURE__*/React.createElement(Button, {\n      className: \"align-self-center\",\n      onClick: () => tradeFunction(card._id)\n    }, \"Select to trade with \", selectedCard && selectedCard.name)))))));\n  };\n  _s(ViewCollection, \"R54P7ytOZ1go1J2XycyZZi/okJk=\", false, function () {\n    return [useParams, useTracker];\n  });\n  _c = ViewCollection;\n  module1.exportDefault(ViewCollection);\n  var _c;\n  $RefreshReg$(_c, \"ViewCollection\");\n}.call(this, module);","map":{"version":3,"names":["ViewCollection","_s","friendUserName","useParams","loading","setLoading","useState","collection","setCollection","showModal","setShowModal","selectedCard","setSelectedCard","ready","myCards","currentUserName","useTracker","subscription","Meteor","subscribe","Cards","userPublicationName","myCardItems","find","fetch","currentUser","user","username","useEffect","call","error","result","console","tradeFunction","myCardID","log","_id","handleTradeButtonClick","card","handleCloseModal","React","createElement","LoadingSpinner","Container","className","map","Fragment","key","CardItem","Button","onClick","Modal","show","onHide","size","Header","closeButton","Title","Body","name","_c","$RefreshReg$","module"],"sources":["imports/ui/pages/ViewCollection.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Container, Button, Modal } from 'react-bootstrap';\nimport { useParams } from 'react-router';\nimport { useTracker } from 'meteor/react-meteor-data';\n\nimport { Meteor } from 'meteor/meteor';\nimport CardItem from '../components/CardItem';\nimport LoadingSpinner from '../components/LoadingSpinner';\nimport { Cards } from '../../api/card/Card';\n\nconst ViewCollection = () => {\n  const { friendUserName } = useParams();\n  const [loading, setLoading] = useState(true);\n  const [collection, setCollection] = useState([]);\n  const [showModal, setShowModal] = useState(false);\n  const [selectedCard, setSelectedCard] = useState(null);\n\n  const { ready, myCards, currentUserName } = useTracker(() => {\n    const subscription = Meteor.subscribe(Cards.userPublicationName);\n    const myCardItems = Cards.collection.find({}).fetch();\n    const currentUser = Meteor.user();\n    const username = currentUser ? currentUser.username : null;\n    return {\n      currentUserName: username,\n      myCards: myCardItems,\n      ready: subscription.ready(),\n\n    };\n  }, []);\n\n  useEffect(() => {\n    Meteor.call('gettingFriendCardCollection', friendUserName, (error, result) => {\n      if (error) {\n        console.error('Error:', error);\n      } else {\n        setCollection(result);\n        setLoading(false);\n      }\n    });\n  }, [friendUserName]);\n\n  const tradeFunction = (myCardID) => {\n    console.log(Meteor.call('tradeCard', myCardID, selectedCard._id, friendUserName, currentUserName));\n\n  };\n\n  const handleTradeButtonClick = (card) => {\n    setSelectedCard(card);\n    setShowModal(true);\n  };\n\n  const handleCloseModal = () => {\n    setSelectedCard(null);\n    setShowModal(false);\n    console.log(selectedCard);\n  };\n\n  return loading || !ready ? (\n    <LoadingSpinner />\n  ) : (\n    <Container className=\"py-3\">\n      <h3>{friendUserName} collection</h3>\n      <div>\n\n        {collection.map((card) => (\n          <>\n            <div className=\"pt-2\" key={card._id}>\n              <CardItem card={card} />\n            </div>\n            <Button onClick={() => handleTradeButtonClick(card)}>Trade</Button>\n          </>\n        ))}\n      </div>\n      <Modal show={showModal} onHide={handleCloseModal} size=\"lg\">\n        <Modal.Header closeButton>\n          <Modal.Title>Select a card to trade</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <div className=\"d-flex flex-column\">\n            {myCards.map((card) => (\n              <div className=\"d-flex justify-content-evenly\">\n                <CardItem card={card} key={card._id} />\n                <Button className=\"align-self-center\" onClick={() => tradeFunction(card._id)}>Select to trade with {selectedCard && selectedCard.name}</Button>\n              </div>\n\n            ))}\n          </div>\n        </Modal.Body>\n      </Modal>\n    </Container>\n  );\n};\n\nexport default ViewCollection;\n"],"mappings":"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"},"sourceType":"module","externalDependencies":{},"hash":"5119214fc2cca8ef18d6404aa16da03dfb2ce50d"}
